<!DOCTYPE html>
<html>
<head> 
	<meta charset = "utf-8" />
	<title> lele </title>
	<!-- <link rel="stylesheet" type="text/css " href="lele.css ">  -->
</head>
<STYLE type="text/css">
*{
	margin: 0;
	padding:0;
	font-size: 18px;
}
.main{	
	width: 1200px;
	margin: 0 auto;
}
.pic_big{
   height: 200px;
   width: 200px;
   border: 2px solid black;
   margin: 0 auto;
   margin-top: 30px;
}
.upload{
	margin-left:30%;
	margin-top:30px;   
}
.search {
 margin-left:20px;
}

.pic_list{
	margin-top: 30px;
}
.pic{

   height: 150px;
   width: 150px;
   border: 2px solid black;
   float: left;
   margin-left: 10px;
   margin-top:5px;
}
</STYLE>

<body>

	<div class="main ">

		<div id="test-image-preview" style="border: 1px solid rgb(204, 204, 204); width: 50%; height: 200px; background-size: contain;background-position:50% 50%; background-repeat:no-repeat;margin-left:30%"></div>

		<p id="test-file-info" style="margin-left:25% ">上传图片</p>

				<form method="post" enctype="multipart/form-data">

					<input type="file"  class="upload" id="test-file" value="上传" name= "file" />
					<input type="submit" class="search " value="Upload"/>

				</form>


	<script>
					    function upload() {
							
							var	fileInput = document.getElementById('test-file'); // 上传按钮
						// 监听change事件:
						fileInput.addEventListener('change', function() {
							var 						
							info = document.getElementById('test-file-info'), //文件信息
							preview = document.getElementById('test-image-preview'); //文本框


							// 清除背景图片:
							preview.style.backgroundImage = '';
							// 检查文件是否选择:
							if (!fileInput.value) {
								info.innerHTML = '没有选择文件';
								return;
							}
							// 获取File引用:
							var file = fileInput.files[0];
							// 获取File信息:
							info.innerHTML = '文件: ' + file.name + '<br>' +
								'大小: ' + file.size + '<br>' +
								'修改: ' + file.lastModifiedDate;
							if (file.type !== 'image/jpg' && file.type !== 'image/png' && file.type !== 'image/jpeg' && file.type !== 'image/gif') {
								alert('不是有效的图片文件!');
								return;
							}
							// 读取文件:
							var reader = new FileReader();
							reader.onload = function(e) {
								var
									data = e.target.result; // 'data:image/jpeg;base64,/9j/4AAQSk...(base64编码)...'            
								preview.style.backgroundImage = 'url(' + data + ')';
							};
							// 以DataURL的形式读取文件:
							reader.readAsDataURL(file);
						});
					} 

		
		upload();
	</script>


		<div class="pic_list">

			<img class="pic " id="pic_1 " src=" {{ img }} "/> 

			<div class="pic " id="pic_2 "></div>
			<div class="pic " id="pic_3 "></div>
			<div class="pic " id="pic_4 "></div>
			<div class="pic " id="pic_5 "></div>
			<div class="pic " id="pic_6 "></div>
			<div class="pic " id="pic_7 "></div>
			<div class="pic " id="pic_8 "></div>
			<div class="pic " id="pic_9 "></div>
			<div class="pic " id="pic_10 "></div>
			<div class="pic " id="pic_11 "></div>
			<div class="pic " id="pic_12 "></div>
			<div class="pic " id="pic_13 "></div>
			<div class="pic " id="pic_14 "></div>
			<div class="pic " id="pic_15 "></div>
			<div class="pic " id="pic_16 "></div>
			<div class="pic " id="pic_17 "></div>
			<div class="pic " id="pic_18 "></div>
			<div class="pic " id="pic_19 "></div>
			<div class="pic " id="pic_20 "></div>	
			<div class="pic " id="pic_21 "></div>	
		</div><!-- pic_list结束 -->
	</div>
</body>
</html>